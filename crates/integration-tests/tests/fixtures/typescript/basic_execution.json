{
  "name": "TypeScript Basic Execution",
  "description": "Tests basic TypeScript execution including variables, functions, computations, conditionals, and array operations",
  "tags": [
    "typescript",
    "execution",
    "basic"
  ],
  "setup": {
    "files": {},
    "env_vars": {},
    "terminal_size": [
      80,
      24
    ]
  },
  "events": [
    {
      "type": "user_input",
      "data": {
        "text": "Return a simple string result",
        "submit": true
      }
    },
    {
      "type": "llm_response",
      "trigger": {
        "pattern": "Return a simple string result",
        "match_type": "contains"
      },
      "response": {
        "typescript": [
          "function agent_code() {",
          "  return \"Task completed\";",
          "}"
        ]
      },
      "verify": {
        "execution": {
          "return_type": "string",
          "return_value_matches": "Task completed"
        }
      }
    },
    {
      "type": "user_input",
      "data": {
        "text": "Perform a simple computation",
        "submit": true
      }
    },
    {
      "type": "llm_response",
      "trigger": {
        "pattern": "Perform a simple computation",
        "match_type": "contains"
      },
      "response": {
        "typescript": [
          "function agent_code() {",
          "  const x = 5 + 10;",
          "  return `Result: ${x}`;",
          "}"
        ]
      },
      "verify": {
        "execution": {
          "return_value_matches": "Result: 15"
        }
      }
    },
    {
      "type": "user_input",
      "data": {
        "text": "Calculate sum of two numbers",
        "submit": true
      }
    },
    {
      "type": "llm_response",
      "trigger": {
        "pattern": "Calculate sum of two numbers",
        "match_type": "contains"
      },
      "response": {
        "typescript": [
          "function agent_code() {",
          "  const a = 5;",
          "  const b = 10;",
          "  const sum = a + b;",
          "  return `Sum is ${sum}`;",
          "}"
        ]
      },
      "verify": {
        "execution": {
          "return_value_matches": "Sum is 15"
        }
      }
    },
    {
      "type": "user_input",
      "data": {
        "text": "Test conditional logic",
        "submit": true
      }
    },
    {
      "type": "llm_response",
      "trigger": {
        "pattern": "Test conditional logic",
        "match_type": "contains"
      },
      "response": {
        "typescript": [
          "function agent_code() {",
          "  const value = 42;",
          "  const result = value > 40 ? 'High' : 'Low';",
          "  return result;",
          "}"
        ]
      },
      "verify": {
        "execution": {
          "return_value_matches": "High"
        }
      }
    },
    {
      "type": "user_input",
      "data": {
        "text": "Calculate array sum using reduce",
        "submit": true
      }
    },
    {
      "type": "llm_response",
      "trigger": {
        "pattern": "Calculate array sum using reduce",
        "match_type": "contains"
      },
      "response": {
        "typescript": [
          "function agent_code() {",
          "  const numbers = [1, 2, 3, 4, 5];",
          "  const sum = numbers.reduce((a, b) => a + b, 0);",
          "  return `Sum is ${sum}`;",
          "}"
        ]
      },
      "verify": {
        "execution": {
          "return_value_matches": "Sum is 15"
        }
      }
    },
    {
      "type": "user_input",
      "data": {
        "text": "Test syntax error handling",
        "submit": true
      }
    },
    {
      "type": "llm_response",
      "trigger": {
        "pattern": "Test syntax error handling",
        "match_type": "contains"
      },
      "response": {
        "typescript": [
          "const x = {",
          "return { done: true };"
        ]
      },
      "verify": {
        "execution": {
          "error_occurred": "error"
        }
      }
    }
  ],
  "final_verify": {
    "execution": {
      "validation_passed": true
    }
  }
}