{
  "name": "CLI Basic Commands",
  "description": "Tests core CLI commands: help, config, metrics, and error handling",
  "tags": [
    "cli",
    "commands",
    "basic"
  ],
  "setup": {
    "files": {},
    "terminal_size": [
      80,
      24
    ]
  },
  "events": [
    {
      "type": "cli_exec",
      "data": {
        "args": [
          "--help"
        ],
        "expect_success": true
      },
      "verify": {
        "execution": {
          "exit_code": 0,
          "stdout_contains": [
            "Usage"
          ]
        }
      }
    },
    {
      "type": "cli_exec",
      "data": {
        "args": [
          "invalid-command-xyz"
        ],
        "expect_success": false
      },
      "verify": {
        "execution": {
          "exit_code_nonzero": true
        }
      }
    },
    {
      "type": "cli_exec",
      "data": {
        "args": [
          "config"
        ],
        "expect_success": true
      },
      "verify": {
        "execution": {
          "exit_code": 0
        }
      }
    },
    {
      "type": "cli_exec",
      "data": {
        "args": [
          "config",
          "--full"
        ],
        "expect_success": true
      },
      "verify": {
        "execution": {
          "exit_code": 0
        }
      }
    },
    {
      "type": "cli_exec",
      "data": {
        "args": [
          "metrics"
        ],
        "expect_success": true
      },
      "verify": {
        "execution": {
          "exit_code": 0
        }
      }
    },
    {
      "type": "cli_exec",
      "data": {
        "args": [
          "metrics",
          "--daily"
        ],
        "expect_success": true
      },
      "verify": {
        "execution": {
          "exit_code": 0
        }
      }
    },
    {
      "type": "cli_exec",
      "data": {
        "args": [
          "prompt",
          "--help"
        ],
        "expect_success": true
      },
      "verify": {
        "execution": {
          "exit_code": 0,
          "stdout_contains": [
            "Show relevant files"
          ]
        }
      }
    },
    {
      "type": "cli_exec",
      "data": {
        "args": [
          "query",
          "--help"
        ],
        "expect_success": true
      },
      "verify": {
        "execution": {
          "exit_code": 0,
          "stdout_contains": [
            "Ask a question"
          ]
        }
      }
    },
    {
      "type": "cli_exec",
      "data": {
        "args": [
          "chat",
          "--help"
        ],
        "expect_success": true
      },
      "verify": {
        "execution": {
          "exit_code": 0,
          "stdout_contains": [
            "interactive chat"
          ]
        }
      }
    }
  ],
  "final_verify": {
    "execution": {
      "all_commands_executed": true
    }
  }
}
