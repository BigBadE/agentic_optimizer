{
  "name": "TypeScript Tool Execution",
  "description": "Agent uses TypeScript tool to process multiple files",
  "initial_task": {
    "description": "Count the total lines of code across all TypeScript files"
  },
  "mock_responses": [
    {
      "step": 1,
      "trigger": "task_start",
      "response": {
        "text": "I'll use the TypeScript tool to list files and count lines.",
        "tool_calls": [
          {
            "tool": "execute_typescript",
            "args": {
              "code": "const files = ['src/app.ts', 'src/utils.ts', 'src/config.ts'];\nconst totalFiles = files.length;\n({ totalFiles, files })"
            }
          }
        ]
      }
    },
    {
      "step": 2,
      "trigger": "tool_result",
      "tool": "execute_typescript",
      "response": {
        "text": "Found 3 TypeScript files. Now I'll count the lines in each.",
        "tool_calls": [
          {
            "tool": "execute_typescript",
            "args": {
              "code": "const lineCounts = { 'src/app.ts': 150, 'src/utils.ts': 80, 'src/config.ts': 30 };\nconst total = Object.values(lineCounts).reduce((a, b) => a + b, 0);\n({ lineCounts, total })"
            }
          }
        ]
      }
    },
    {
      "step": 3,
      "trigger": "tool_result",
      "tool": "execute_typescript",
      "response": {
        "text": "Total lines of code: 260 lines across 3 TypeScript files.\n\nBreakdown:\n- src/app.ts: 150 lines\n- src/utils.ts: 80 lines\n- src/config.ts: 30 lines",
        "tool_calls": []
      }
    }
  ],
  "expected_ui_states": [
    {
      "after_step": 1,
      "task_tree": [
        {
          "id": "task_1",
          "description": "Count the total lines of code across all TypeScript files",
          "status": "running",
          "children": []
        }
      ],
      "tool_calls": [
        {
          "tool": "execute_typescript",
          "status": "pending"
        }
      ]
    },
    {
      "after_step": 2,
      "task_tree": [
        {
          "id": "task_1",
          "description": "Count the total lines of code across all TypeScript files",
          "status": "running",
          "children": []
        }
      ],
      "tool_calls": [
        {
          "tool": "execute_typescript",
          "status": "completed"
        },
        {
          "tool": "execute_typescript",
          "status": "pending"
        }
      ]
    },
    {
      "after_step": 3,
      "task_tree": [
        {
          "id": "task_1",
          "description": "Count the total lines of code across all TypeScript files",
          "status": "completed",
          "children": []
        }
      ],
      "tool_calls": [
        {
          "tool": "execute_typescript",
          "status": "completed"
        },
        {
          "tool": "execute_typescript",
          "status": "completed"
        }
      ]
    }
  ]
}
